{
  "apps": [{
    "name": "rejuvena-backend",
    "script": "./dist/server.js",
    "instances": 1,
    "exec_mode": "cluster",
    "env": {
      "NODE_ENV": "production",
      "PORT": 9527,
      "JWT_SECRET": "rejuvena_prod_secret_2026"
    },
    "error_file": "./logs/err.log",
    "out_file": "./logs/out.log",
    "log_date_format": "YYYY-MM-DD HH:mm:ss Z",
    "merge_logs": true
  },
  {
    "name": "marathon-notifier",
    "script": "npm",
    "args": "run send-notifications",
    "cron_restart": "0 9 * * *",
    "autorestart": false,
    "env": {
      "NODE_ENV": "production"
    },
    "error_file": "./logs/notifier-err.log",
    "out_file": "./logs/notifier-out.log",
    "log_date_format": "YYYY-MM-DD HH:mm:ss Z"
  },
  {
    "name": "campaign-executor",
    "script": "npm",
    "args": "run execute-campaigns",
    "cron_restart": "0 * * * *",
    "autorestart": false,
    "env": {
      "NODE_ENV": "production"
    },
    "error_file": "./logs/campaign-err.log",
    "out_file": "./logs/campaign-out.log",
    "log_date_format": "YYYY-MM-DD HH:mm:ss Z"
  },
  {
    "name": "photo-cleanup",
    "script": "npm",
    "args": "run cleanup-photos",
    "cron_restart": "0 3 * * *",
    "autorestart": false,
    "env": {
      "NODE_ENV": "production"
    },
    "error_file": "./logs/photo-cleanup-err.log",
    "out_file": "./logs/photo-cleanup-out.log",
    "log_date_format": "YYYY-MM-DD HH:mm:ss Z"
  },
  {
    "name": "photo-warnings",
    "script": "npm",
    "args": "run send-photo-warnings",
    "cron_restart": "0 10 * * *",
    "autorestart": false,
    "env": {
      "NODE_ENV": "production"
    },
    "error_file": "./logs/photo-warnings-err.log",
    "out_file": "./logs/photo-warnings-out.log",
    "log_date_format": "YYYY-MM-DD HH:mm:ss Z"
  }]
}
