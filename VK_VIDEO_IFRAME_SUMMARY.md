# –†–µ–∑—é–º–µ: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VK Video iframe –≤ TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä

**–î–∞—Ç–∞:** 24 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Å—Ç–∞–≤–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≤–∏–¥–µ–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ (–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –ø–æ —Å—Å—ã–ª–∫–µ) –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –æ–ø–∏—Å–∞–Ω–∏–π –¥–Ω–µ–π –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä
**–§–∞–π–ª:** `Backend-rejuvena/admin-panel/src/components/TipTapEditor.tsx`

#### –î–æ–±–∞–≤–ª–µ–Ω–æ:
- ‚ú® –§—É–Ω–∫—Ü–∏—è `extractIframeSrc()` - –∏–∑–≤–ª–µ–∫–∞–µ—Ç URL –∏–∑ iframe –∫–æ–¥–∞
- ‚ú® –†–∞—Å—à–∏—Ä–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ VK Video –≤ `getVideoEmbedUrl()`:
  - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ `video_ext.php` URL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ iframe)
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (oid, id, hash, hd) –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≤–∏–¥–µ–æ
- ‚ú® –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `addVideo()`:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ iframe –∫–æ–¥–∞
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ src –∏–∑ iframe
  - –í—Å—Ç–∞–≤–∫–∞ –≤–∏–¥–µ–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚ú® –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### 2. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìÑ `VK_VIDEO_IFRAME_GUIDE.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- üß™ `admin-panel/test-vk-video.js` - —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–≤—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã ‚úÖ)
- üöÄ `quick-deploy-vk-video.sh` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### 3. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã (4/4)
- ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –°–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ iframe –∫–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–Ω—è –º–∞—Ä–∞—Ñ–æ–Ω–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üé• –í–∏–¥–µ–æ"
3. –í—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–Ω—ã–π iframe –∫–æ–¥ –∏–∑ –í–ö:

<iframe src="https://vkvideo.ru/video_ext.php?oid=-227551209&id=456239300&hash=56fcd03782ddf732&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>

4. –ù–∞–∂–º–∏—Ç–µ OK
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ URL –∏–∑ iframe

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–Ω—è –º–∞—Ä–∞—Ñ–æ–Ω–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üé• –í–∏–¥–µ–æ"
3. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ URL:

https://vkvideo.ru/video_ext.php?oid=-227551209&id=456239300&hash=56fcd03782ddf732&hd=3

4. –ù–∞–∂–º–∏—Ç–µ OK
```

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena
./quick-deploy-vk-video.sh
# –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ deploy-admin.sh –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```

### –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
```bash
cd Backend-rejuvena/admin-panel
npm install
npm run build
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ dist/ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `https://api-rejuvena.duckdns.org/admin/`
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ú–∞—Ä–∞—Ñ–æ–Ω—ã" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∞—Ñ–æ–Ω ‚Üí –¥–µ–Ω—å
4. –ù–∞–∂–º–∏—Ç–µ "üé• –í–∏–¥–µ–æ"
5. –í—Å—Ç–∞–≤—å—Ç–µ iframe –∫–æ–¥ –æ—Ç –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã VK Video:

| –§–æ—Ä–º–∞—Ç | –ü—Ä–∏–º–µ—Ä | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ |
|--------|--------|-----------|
| iframe –∫–æ–¥ | `<iframe src="https://vkvideo.ru/video_ext.php?...">` | ‚úÖ |
| video_ext.php URL | `https://vkvideo.ru/video_ext.php?oid=-123&id=456&hash=abc` | ‚úÖ |
| –û–±—ã—á–Ω—ã–π URL | `https://vk.com/video-123_456` | ‚úÖ |
| –ü—Ä–∏–≤–∞—Ç–Ω—ã–π URL | `https://vk.com/video-123_456?sh=abc&list=def` | ‚úÖ |

### –î—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
- YouTube ‚úÖ
- Vimeo ‚úÖ
- Rutube ‚úÖ
- OK.ru ‚úÖ

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –≤–∏–¥–µ–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ —Å—Å—ã–ª–∫–µ
- –ü–∞—Ä–∞–º–µ—Ç—Ä `hash` –≤ URL –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –≤–∏–¥–µ–æ
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ iframe (oid, id, hash, hd) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ
- –†–µ–¥–∞–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç (iframe –∏–ª–∏ URL)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `Backend-rejuvena/admin-panel/src/components/TipTapEditor.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
- `Backend-rejuvena/VK_VIDEO_IFRAME_GUIDE.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `Backend-rejuvena/admin-panel/test-vk-video.js` - —Ç–µ—Å—Ç—ã
- `Backend-rejuvena/quick-deploy-vk-video.sh` - —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é  
**–¢–µ—Å—Ç—ã:** ‚úÖ –í—Å–µ –ø—Ä–æ–π–¥–µ–Ω—ã (4/4)  
**–°–±–æ—Ä–∫–∞:** ‚úÖ –£—Å–ø–µ—à–Ω–æ
