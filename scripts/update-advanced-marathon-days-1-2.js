const { MongoClient, ObjectId } = require('mongodb');

const PRODUCTION_URI = 'mongodb://127.0.0.1:27018';
const MARATHON_ID = '69733e6ff22ce2297694b8a9';

// Day IDs from database
const DAY_IDS = {
  1: '6997146b9d49498bc5fc1927',
  2: '6997197f9d49498bc5fc1e02',
  3: '69971aa89d49498bc5fc24a3',
  4: '69971ae99d49498bc5fc272b',
  5: '69971b319d49498bc5fc29be',
  6: '69971b879d49498bc5fc2c61',
  7: '69971db59d49498bc5fc2f25'
};

// Markdown to HTML conversion
function markdownToHtml(markdown) {
  let html = markdown
    // Headers
    .replace(/^### (.*$)/gim, '<h3>$1</h3>')
    .replace(/^## (.*$)/gim, '<h2>$1</h2>')
    // Bold
    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
    // Italic
    .replace(/\*(.*?)\*/g, '<em>$1</em>')
    // Lists
    .replace(/^\d+\.\s+(.*$)/gim, '<li>$1</li>')
    .replace(/^-\s+(.*$)/gim, '<li>$1</li>')
    .replace(/^âœ…\s+(.*$)/gim, '<p>âœ… $1</p>')
    .replace(/^ğŸ‘ï¸\s+(.*$)/gim, '<p>ğŸ‘ï¸ $1</p>')
    .replace(/^ğŸ˜Ÿ\s+(.*$)/gim, '<p>ğŸ˜Ÿ $1</p>')
    .replace(/^ğŸ“±\s+(.*$)/gim, '<p>ğŸ“± $1</p>')
    .replace(/^âš ï¸\s+(.*$)/gim, '<p>âš ï¸ $1</p>')
    .replace(/^ğŸ’¡\s+(.*$)/gim, '<p>ğŸ’¡ $1</p>')
    .replace(/^ğŸ¯\s+(.*$)/gim, '<p>ğŸ¯ $1</p>')
    .replace(/^âœ¨\s+(.*$)/gim, '<p>âœ¨ $1</p>')
    // Horizontal rule
    .replace(/^---$/gim, '<hr>')
    // Paragraphs
    .split('\n\n')
    .map(para => {
      para = para.trim();
      if (!para) return '';
      if (para.startsWith('<')) return para;
      if (para.includes('</li>')) {
        return '<ul>' + para + '</ul>';
      }
      return '<p>' + para + '</p>';
    })
    .join('\n');

  return html;
}

const DAY_DESCRIPTIONS = {
 1: `## ğŸŒŸ Ğ”ĞµĞ½ÑŒ 1. ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ â€” Ñ€Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ» Ğ»Ğ±Ğ° Ğ¸ Ğ³Ğ»Ğ°Ğ·

Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ, {name}!

Ğ Ğ°Ğ´ Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ’Ğ°Ñ Ğ² **Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ğ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑĞ° "+ Ğ½Ğ° Ğ»Ğ¾Ğ± Ğ¸ Ğ³Ğ»Ğ°Ğ·Ğ°"**!

Ğ’Ñ‹ ÑƒĞ¶Ğµ Ğ¾ÑĞ²Ğ¾Ğ¸Ğ»Ğ¸ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸ Ğ¾Ğ¼Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ, Ğ¸ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ¿Ñ€Ğ¸ÑˆĞ»Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºÑƒ Ğ½Ğ° ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ. ĞŸĞ¾ÑĞ»Ğµ ÑÑ‚Ğ¾Ğ³Ğ¾ 7-Ğ´Ğ½ĞµĞ²Ğ½Ğ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑĞ° Ğ’Ğ°Ñˆ ĞµĞ¶ĞµĞ´Ğ½ĞµĞ²Ğ½Ñ‹Ğ¹ Ñ‡ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑÑ **8 Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğ¼Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ°Ğ¼Ğ¸**, Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ½Ğ° Ğ³Ğ»ÑƒĞ±Ğ¾ĞºÑƒÑ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ Ğ·Ğ¾Ğ½Ğ¾Ğ¹ Ğ»Ğ±Ğ° Ğ¸ Ğ³Ğ»Ğ°Ğ·.

---

### ğŸ“‹ ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ğ¾Ğ³Ğ¾ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸?**  
ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸ Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ Ğ±Ğ¾Ğ»ĞµĞµ Ñ‚Ğ¾Ğ½ĞºĞ¾Ğ¹ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸, Ğ²Ğ½Ğ¸Ğ¼Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ¸. ĞœÑ‹ Ğ½Ğµ Ñ‚Ğ¾Ñ€Ğ¾Ğ¿Ğ¸Ğ¼ÑÑ â€” Ğ±ÑƒĞ´ĞµĞ¼ Ğ¾ÑĞ²Ğ°Ğ¸Ğ²Ğ°Ñ‚ÑŒ **1-2 Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸ Ğ² Ğ´ĞµĞ½ÑŒ**, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ’Ñ‹ Ğ¼Ğ¾Ğ³Ğ»Ğ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ ĞºĞ°Ğ¶Ğ´ÑƒÑ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒ.

---

### ğŸ¯ Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¸Ğ·ÑƒÑ‡Ğ°ĞµĞ¼ 2 Ğ¼Ğ¾Ñ‰Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸:

**1. Ğ›Ğ¸Ñ„Ñ‚Ğ¸Ğ½Ğ³ Ğ»Ğ±Ğ°, Ğ±Ñ€Ğ¾Ğ²ĞµĞ¹ Ğ¸ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ³Ğ¾ Ğ²ĞµĞºĞ°** ğŸ“¹  
ĞšĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¹ Ñ‚Ñ€ĞµÑ‚ÑŒÑ Ğ»Ğ¸Ñ†Ğ° â€” Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ²Ğ·Ğ³Ğ»ÑĞ´, Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ°ĞµĞ¼ Ğ±Ñ€Ğ¾Ğ²Ğ¸, Ñ€Ğ°Ğ·Ğ³Ğ»Ğ°Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ»Ğ¾Ğ±.

**2. ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğ¹ Ğ»Ğ¸Ñ„Ñ‚Ğ¸Ğ½Ğ³ Ğ²Ğ¸ÑĞºĞ¾Ğ² Ñ Ğ´ĞµÑ„Ğ¸Ğ±Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¼Ñ‹ÑˆĞµÑ‡Ğ½Ñ‹Ñ… Ğ²Ğ¾Ğ»Ğ¾ĞºĞ¾Ğ½** ğŸ’ª  
Ğ“Ğ»ÑƒĞ±Ğ¾ĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¸ÑĞ¾Ñ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ¾Ğ½Ñ‹ Ñ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ²Ğ¸Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¼Ñ‹ÑˆĞµÑ‡Ğ½Ñ‹Ñ… Ğ²Ğ¾Ğ»Ğ¾ĞºĞ¾Ğ½.

---

### ğŸ’¡ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

**1. Ğ£Ñ‚Ñ€ĞµĞ½Ğ½ÑÑ Ñ€ÑƒÑ‚Ğ¸Ğ½Ğ°** ğŸŒ…  
ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ğ¹Ñ‚Ğµ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ²Ñ‹Ñ‡Ğ½ÑƒÑ ÑƒÑ‚Ñ€ĞµĞ½Ğ½ÑÑ Ğ·Ğ°Ñ€ÑĞ´ĞºÑƒ â€” ÑÑ‚Ğ¾ Ğ’Ğ°Ñˆ Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚.

**2. Ğ—Ğ½Ğ°ĞºĞ¾Ğ¼ÑÑ‚Ğ²Ğ¾ Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼** ğŸ¬  
ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ¸ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ÑĞµĞ³Ğ¾Ğ´Ğ½ÑÑˆĞ½Ğ¸Ñ… Ñ‚ĞµÑ…Ğ½Ğ¸Ğº.

**3. ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑ** âœ…  
Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ÑƒĞ¶Ğµ Ğ¾ÑĞ²Ğ¾ĞµĞ½Ğ½Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ Ğ¸Ğ· Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑĞ°.

**4. ĞŸÑ€Ğ°ĞºÑ‚Ğ¸ĞºĞ° Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾** ğŸ†•  
ĞÑ‚Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ´Ğ²Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸.

---

### ğŸ“Œ Ğ’Ğ°Ğ¶Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ğµ

**ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ»Ğ¸ Ğ´ĞµĞ½ÑŒ?** â€” ĞĞ¸Ñ‡ĞµĞ³Ğ¾ ÑÑ‚Ñ€Ğ°ÑˆĞ½Ğ¾Ğ³Ğ¾!  

Ğ’ÑĞµ Ğ½Ğ¾Ğ²Ñ‹Ğµ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ Ğ¾ÑÑ‚Ğ°Ğ½ÑƒÑ‚ÑÑ Ğ² Ğ’Ğ°ÑˆĞµĞ¼ Â«ĞŸĞ»Ğ°Ğ½Ğµ Ğ´Ğ½ÑÂ», Ğ¸ Ğ’Ñ‹ Ğ²ÑĞµĞ³Ğ´Ğ° ÑĞ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ²ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº Ğ½Ğ¸Ğ¼. Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ â€” Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ÑŒÑÑ Ğ² ĞºĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚Ğ½Ğ¾Ğ¼ Ñ‚ĞµĞ¼Ğ¿Ğµ, Ğ±ĞµĞ· ÑĞ¿ĞµÑˆĞºĞ¸ Ğ¸ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ.

---

**Ğ¡ Ğ²ĞµÑ€Ğ¾Ğ¹ Ğ² Ğ’Ğ°ÑˆĞµ Ğ¼Ğ°ÑÑ‚ĞµÑ€ÑÑ‚Ğ²Ğ¾,**  
ĞĞ»ĞµĞºÑĞµĞ¹`,

 2: `## ğŸŒŸ Ğ”ĞµĞ½ÑŒ 2. Ğ”ĞµĞ½ÑŒ Ğ³Ğ»Ğ°Ğ· â€” Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ orbicularis oculi

Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ, {name}!

ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑ Ğ’Ğ°Ñ Ğ²Ğ¾ **Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ** Ğ¿Ñ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ğ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑĞ°!

**Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ğ¾ÑĞ²ÑÑ‰Ğ°ĞµĞ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ñ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒÑ Ğ³Ğ»Ğ°Ğ·** â€” Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¸Ğ· ÑĞ°Ğ¼Ñ‹Ñ… Ğ´ĞµĞ»Ğ¸ĞºĞ°Ñ‚Ğ½Ñ‹Ñ… Ğ¸ Ğ²Ñ‹Ñ€Ğ°Ğ·Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ·Ğ¾Ğ½ Ğ»Ğ¸Ñ†Ğ°.

---

### ğŸ”¬ ĞĞ½Ğ°Ñ‚Ğ¾Ğ¼Ğ¸Ñ Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ·Ğ³Ğ»ÑĞ´Ğ°

**ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ¼Ñ‹ÑˆÑ†Ğ° Ğ³Ğ»Ğ°Ğ·Ğ° (orbicularis oculi)** â€” ÑÑ‚Ğ¾ ÑˆĞ¸Ñ€Ğ¾ĞºĞ°Ñ Ğ¿Ğ»Ğ¾ÑĞºĞ°Ñ Ğ¼Ñ‹ÑˆÑ†Ğ°, Ğ¾ĞºÑ€ÑƒĞ¶Ğ°ÑÑ‰Ğ°Ñ Ğ³Ğ»Ğ°Ğ·Ğ½Ğ¸Ñ†Ñƒ. Ğ’ Ğ¸Ğ´ĞµĞ°Ğ»Ğµ Ğ¾Ğ½Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ³Ğ»Ğ°Ğ´ĞºĞ¾Ğ¹ Ğ¸ Ñ€Ğ°ÑÑĞ»Ğ°Ğ±Ğ»ĞµĞ½Ğ½Ğ¾Ğ¹, Ğ½Ğ¾ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ¸Ğ½Ğ°Ñ.

**Ğ§Ñ‚Ğ¾ Ğ½Ğ°ĞºĞ°Ğ¿Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ¿Ğ°Ğ·Ğ¼ Ğ² ÑÑ‚Ğ¾Ğ¹ Ğ¼Ñ‹ÑˆÑ†Ğµ?**

ğŸ‘ï¸ **Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:** Ğ¿Ñ€Ğ¸Ñ‰ÑƒÑ€Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ²ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ, Ğ³Ñ€Ğ¸Ğ¼Ğ°ÑÑ‹  
ğŸ˜Ÿ **Ğ­Ğ¼Ğ¾Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ:** ÑÑ‚Ñ€Ğ°Ñ…, Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³Ğ°, Ğ¿Ğ¾Ğ´Ğ¾Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ³Ğ½ĞµĞ²  
ğŸ“± **Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ñ ÑĞ¿Ğ¾Ñ…Ğ°:** Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ñ‡Ğ°ÑĞ¾Ğ²Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ·Ğ° ÑĞºÑ€Ğ°Ğ½Ğ°Ğ¼Ğ¸

---

### âš ï¸ Ğ§Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ñ€Ğ¸ Ñ…Ñ€Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¼ ÑĞ¿Ğ°Ğ·Ğ¼Ğµ?

ĞšĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ»Ğ¾ÑĞºĞ°Ñ Ğ¼Ñ‹ÑˆÑ†Ğ° Ğ´Ğ¾Ğ»Ğ³Ğ¾ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğ¸:

1. **ĞĞ½Ğ° ÑĞ¾ĞºÑ€Ğ°Ñ‰Ğ°ĞµÑ‚ÑÑ Ğ² Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°Ñ…** â€” Ñ‚ĞµÑ€ÑĞµÑ‚ ÑĞ»Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ  
2. **ĞĞ±Ñ€Ğ°Ğ·ÑƒÑÑ‚ÑÑ Ğ²Ğ°Ğ»Ğ¸ĞºĞ¸ Ğ¸ ÑƒĞ¿Ğ»Ğ¾Ñ‚Ğ½ĞµĞ½Ğ¸Ñ** â€” Ğ¼Ñ‹ÑˆÑ†Ğ° ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ÑÑ Ğ² ÑĞºĞ»Ğ°Ğ´ĞºĞ¸  
3. **ĞšĞ¾Ğ¶Ğ° Ğ¿Ğ¾ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¼Ğ¾Ñ€Ñ‰Ğ¸Ğ½ĞºĞ°Ğ¼Ğ¸** â€” Ñ‚ĞµÑ€ÑĞµÑ‚ Ñ€Ğ¾Ğ²Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ»ÑŒĞµÑ„  
4. **Ğ—Ğ°ÑÑ‚Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ»Ğ¸Ğ¼Ñ„Ğ°** â€” Ğ¿Ğ¾ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ğ¾Ñ‚Ñ‘ĞºĞ¸ Ğ¸ Ğ¼ĞµÑˆĞºĞ¸ Ğ¿Ğ¾Ğ´ Ğ³Ğ»Ğ°Ğ·Ğ°Ğ¼Ğ¸

---

### ğŸ¯ ĞĞ°ÑˆĞ° ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ

**Ğ¨Ğ°Ğ³ 1: Ğ Ğ°ÑÑĞ»Ğ°Ğ±Ğ»ĞµĞ½Ğ¸Ğµ**  
ĞŸĞµÑ€Ğ²Ñ‹Ğ¼ Ğ´ĞµĞ»Ğ¾Ğ¼ Ğ½ÑƒĞ¶Ğ½Ğ¾ **Ñ€Ğ°Ğ·Ğ³Ğ»Ğ°Ğ´Ğ¸Ñ‚ÑŒ Ğ¸ Ñ€Ğ°ÑÑĞ»Ğ°Ğ±Ğ¸Ñ‚ÑŒ ĞºÑ€ÑƒĞ³Ğ¾Ğ²ÑƒÑ Ğ¼Ñ‹ÑˆÑ†Ñƒ Ğ³Ğ»Ğ°Ğ·Ğ°** â€” ÑÑ‚Ğ¾ Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚ Ğ²ÑĞµĞ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹.

**Ğ¨Ğ°Ğ³ 2: Ğ›Ğ¸Ğ¼Ñ„Ğ¾Ğ´Ñ€ĞµĞ½Ğ°Ğ¶**  
Ğ—Ğ°Ñ‚ĞµĞ¼ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ğ¼ Ğ¸Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ğº Ğ»Ğ¸Ğ¼Ñ„Ñ‹ Ğ¸Ğ· Ğ¿ĞµÑ€Ğ¸Ğ¾Ñ€Ğ±Ğ¸Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ·Ğ¾Ğ½Ñ‹.

---

### ğŸ“¹ Ğ”Ğ²Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ:

**1. Ğ¡Ğ¿Ğ¸Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼Ğ°ÑÑĞ°Ğ¶ ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ñ‹ÑˆÑ†Ñ‹ Ğ³Ğ»Ğ°Ğ·Ğ°** ğŸŒ€  
Ğ”ĞµĞ»Ğ¸ĞºĞ°Ñ‚Ğ½Ğ°Ñ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ° Ñ€Ğ°ÑÑĞ»Ğ°Ğ±Ğ»ĞµĞ½Ğ¸Ñ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ ÑĞ¿Ğ¸Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¹.

**Ğ’Ğ°Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ÑŒ:**

âš ï¸ ĞšĞ¾Ğ¶Ğ° Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ğ³Ğ»Ğ°Ğ· **ÑĞ°Ğ¼Ğ°Ñ Ñ‚Ğ¾Ğ½ĞºĞ°Ñ Ğ½Ğ° Ğ»Ğ¸Ñ†Ğµ** â€” Ğ»ĞµĞ³ĞºĞ¾ Ğ²Ñ‹Ğ·Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ĞºÑ€Ğ°ÑĞ½ĞµĞ½Ğ¸Ğµ  
ğŸ’¡ ĞœÑ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµĞ¼ **Ñ Ğ¼Ñ‹ÑˆÑ†ĞµĞ¹, Ğ° Ğ½Ğµ Ñ ĞºĞ¾Ğ¶ĞµĞ¹** â€” Ğ¿Ğ¾Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ Ñ€Ğ°Ğ·Ğ½Ğ¸Ñ†Ñƒ  
ğŸ¯ ĞĞµ ÑÑ€Ğ°Ğ·Ñƒ, Ğ½Ğ¾ **Ğ’Ñ‹ Ğ½Ğ°ÑƒÑ‡Ğ¸Ñ‚ĞµÑÑŒ Ğ¾Ñ‰ÑƒÑ‰Ğ°Ñ‚ÑŒ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚** Ñ Ğ¼Ñ‹ÑˆÑ†ĞµĞ¹  
âœ¨ ĞšĞ°Ğº Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾Ğ¹Ğ´Ñ‘Ñ‚ â€” Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ ÑƒÑĞºĞ¾Ñ€Ğ¸Ñ‚ÑÑ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ĞºÑ€Ğ°Ñ‚Ğ½Ğ¾

**2. Ğ›Ğ¸Ğ¼Ñ„Ğ¾Ğ´Ñ€ĞµĞ½Ğ°Ğ¶ Ğ³Ğ»Ğ°Ğ· PRO** ğŸ’§  
ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ğ°Ñ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ²Ñ‹Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ Ğ»Ğ¸Ğ¼Ñ„Ñ‹ Ğ¸Ğ· Ğ¾Ñ€Ğ±Ğ¸Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸ â€” ÑƒĞ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ¾Ñ‚Ñ‘Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ñ‚ÑĞ¶ĞµÑÑ‚ÑŒ Ğ²Ğ·Ğ³Ğ»ÑĞ´Ğ°.

---

### ğŸŒ¸ Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

ĞšĞ¾Ğ³Ğ´Ğ° ĞºÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ¼Ñ‹ÑˆÑ†Ğ° Ğ³Ğ»Ğ°Ğ·Ğ° Ñ€Ğ°ÑÑĞ»Ğ°Ğ±Ğ»ĞµĞ½Ğ°:

âœ… Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞ°ÑÑ‚ÑÑ Ğ¼Ğ¾Ñ€Ñ‰Ğ¸Ğ½Ñ‹ Ğ¸ Â«Ğ³ÑƒÑĞ¸Ğ½Ñ‹Ğµ Ğ»Ğ°Ğ¿ĞºĞ¸Â»  
âœ… Ğ£Ñ…Ğ¾Ğ´ÑÑ‚ Ğ¾Ñ‚Ñ‘ĞºĞ¸ Ğ¸ Ğ¼ĞµÑˆĞºĞ¸ Ğ¿Ğ¾Ğ´ Ğ³Ğ»Ğ°Ğ·Ğ°Ğ¼Ğ¸  
âœ… Ğ’Ğ·Ğ³Ğ»ÑĞ´ ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ ÑĞ²ĞµĞ¶Ğ¸Ğ¼ Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¼  
âœ… Ğ’ÑĞµ Ğ¿Ğ¾ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ² Ñ€Ğ°Ğ·Ñ‹ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½ĞµĞµ

---

**Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ğ±ĞµÑ€ĞµĞ¶Ğ½Ğ¾, Ğ½Ğ¾ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾!**  
ĞĞ»ĞµĞºÑĞµĞ¹`
};

async function updateDayDescriptions() {
  const client = new MongoClient(PRODUCTION_URI);

  try {
    await client.connect();
    console.log('âœ… Connected to PRODUCTION MongoDB\n');

    const db = client.db('rejuvena');
    const marathonDaysCollection = db.collection('marathondays');

    for (const [dayNum, dayDescription] of Object.entries(DAY_DESCRIPTIONS)) {
      const dayNumber = parseInt(dayNum);
      const dayId = DAY_IDS[dayNumber];
      
      if (!dayId) {
        console.log(`âš ï¸  Day ${dayNumber} - no ID found, skipping`);
        continue;
      }

      const markdownText = dayDescription.trim();
      const htmlText = markdownToHtml(markdownText);

      console.log(`â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`);
      console.log(`Updating Day ${dayNumber}:`);
      console.log(`  ID: ${dayId}`);
      console.log(`  Markdown length: ${markdownText.length} chars`);
      console.log(`  HTML length: ${htmlText.length} chars`);

      const result = await marathonDaysCollection.updateOne(
        { _id: new ObjectId(dayId) },
        { 
          $set: { 
            description: htmlText,
            updatedAt: new Date()
          } 
        }
      );

      if (result.modifiedCount > 0) {
        console.log(`  âœ… Day ${dayNumber} updated successfully!`);
      } else {
        console.log(`  âš ï¸  Day ${dayNumber} - no changes made`);
      }
      console.log('');
    }

    console.log(`\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`);
    console.log(`âœ… Update complete! Updated ${Object.keys(DAY_DESCRIPTIONS).length} days.`);
    console.log(`\nğŸ’¡ Open admin panel and press Cmd+Shift+R to see changes!`);

  } catch (error) {
    console.error('âŒ Error:', error);
  } finally {
    await client.close();
    console.log('\nâœ… Connection closed');
  }
}

updateDayDescriptions();
