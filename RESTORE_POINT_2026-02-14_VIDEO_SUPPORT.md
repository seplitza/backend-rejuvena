# üîÑ –¢–æ—á–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: 14 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

**–í–µ—Ä—Å–∏—è:** v1.4.0 - Video Embed Support  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 14 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥., 15:40 –ú–°–ö  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏:

1. ‚úÖ **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–∞—Ä–∞—Ñ–æ–Ω–∞–º** - –∫–Ω–æ–ø–∫–∞ –Ω–∞ –±–∞–Ω–Ω–µ—Ä–µ –≤–µ–¥–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å (–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç–∞—Ä—Ç–∞)
2. ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –≤ TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ** - YouTube, Vimeo, Rutube, VK, OK.ru
3. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤** - —è–≤–Ω—ã–µ CSS —Å—Ç–∏–ª–∏ –¥–ª—è H1/H2/H3
4. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ lastAccessedDay** - —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –¥–Ω—è (–Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏)

---

## üîó Git –∫–æ–º–º–∏—Ç—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### Backend Repository: `backend-rejuvena`
```bash
Repository: https://github.com/seplitza/backend-rejuvena.git
Commit: d58c280
Branch: main
Subject: feat: add video embed support (YouTube, Vimeo, Rutube, VK, OK) to TipTap editor
```

**–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–æ–º–º–∏—Ç—ã –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏:**
- `50958c0` - fix: update lastAccessedDay on day view for better UX tracking
- `3cc3ff5` - Revert "feat: auto-migrate marathon progress index on server startup"
- `3aa8e2d` - fix: include dayNumber in marathon exercise progress unique index

### Frontend Repository: `rejuvena` (web)
```bash
Repository: https://github.com/seplitza/rejuvena.git
Commit: f31937c
Branch: main
Subject: fix: use explicit CSS styles for marathon day headings formatting
```

**–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–æ–º–º–∏—Ç—ã –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏:**
- `b73b359` - fix: increase heading sizes in marathon day description for better readability
- `b7f366c` - fix: marathon banner always navigates to current day when started
- `c0019ab` - feat: implement smart marathon banner navigation logic

---

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### Backend:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena
git fetch origin
git checkout d58c280
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout -b restore-video-support d58c280

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∞
npm install
npm run build
cd admin-panel
npm install
npm run build
cd ..

# –ù–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ
ssh root@37.252.20.170
cd /var/www/rejuvena-backend
git fetch origin
git checkout d58c280
npm install
npm run build
cd admin-panel
npm install
npm run build
cd ..
pm2 restart rejuvena-backend
```

#### Frontend:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
cd /Users/alexeipinaev/Documents/Rejuvena/web
git fetch origin
git checkout f31937c
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout -b restore-video-support f31937c

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
npm install
npm run dev

# –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages
npm run build
npx gh-pages -d out -m "Restore: video support version"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –Ω—É–ª—è (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞)

#### Backend:
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /Users/alexeipinaev/Documents/Rejuvena
rm -rf Backend-rejuvena-backup
git clone https://github.com/seplitza/backend-rejuvena.git Backend-rejuvena-backup
cd Backend-rejuvena-backup
git checkout d58c280

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
npm install
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# –°–±–æ—Ä–∫–∞
npm run build

# –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
cd admin-panel
npm install
npm run build
cd ..

# –ó–∞–ø—É—Å–∫
npm run dev  # –õ–æ–∫–∞–ª—å–Ω–æ
# –∏–ª–∏
pm2 start ecosystem.config.json  # –ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```

#### Frontend:
```bash
cd /Users/alexeipinaev/Documents/Rejuvena
rm -rf web-backup
git clone https://github.com/seplitza/rejuvena.git web-backup
cd web-backup
git checkout f31937c

npm install
npm run build
# –î–ª—è –¥–µ–ø–ª–æ—è
npx gh-pages -d out -m "Restore version"
```

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### Backend
- **Node.js:** v18+
- **MongoDB:** v5.0+
- **Express:** —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 9527
- **PM2:** –ø—Ä–æ—Ü–µ—Å—Å—ã `rejuvena-backend` –∏ `marathon-notifier`

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```json
{
  "@tiptap/core": "^2.8.0",
  "@tiptap/react": "^2.8.0",
  "@tiptap/starter-kit": "^2.8.0",
  "@tiptap/extension-image": "^2.8.0",
  "@tiptap/extension-link": "^2.8.0",
  "express": "^4.18.2",
  "mongoose": "^7.5.0",
  "bcrypt": "^5.1.1"
}
```

#### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö:
- `User` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫–æ–π
- `Exercise` - —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å TipTap –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- `Marathon` - –º–∞—Ä–∞—Ñ–æ–Ω—ã
- `MarathonDay` - –¥–Ω–∏ –º–∞—Ä–∞—Ñ–æ–Ω–∞ —Å `description` (TipTap HTML)
- `MarathonExerciseProgress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å: userId + marathonId + dayNumber + exerciseId)
- `MarathonEnrollment` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –º–∞—Ä–∞—Ñ–æ–Ω —Å `lastAccessedDay`

### Frontend
- **Next.js:** 14.2.33 (static export)
- **React:** 18+
- **Redux Toolkit:** –¥–ª—è state management
- **Tailwind CSS:** –¥–ª—è —Å—Ç–∏–ª–µ–π
- **Deployment:** GitHub Pages

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã:
- `pages/dashboard.tsx` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –±–∞–Ω–Ω–µ—Ä–∞–º–∏ –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤
- `pages/marathons/[id]/day/[dayNumber].tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–Ω—è –º–∞—Ä–∞—Ñ–æ–Ω–∞
- `components/day/DayDescription.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–ø–∏—Å–∞–Ω–∏—è –¥–Ω—è (—Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
- `store/modules/day/` - Redux –ª–æ–≥–∏–∫–∞ –¥–ª—è –¥–Ω–µ–π –º–∞—Ä–∞—Ñ–æ–Ω–∞

### Production URLs:
- **Backend API:** http://37.252.20.170:9527 (api-rejuvena.duckdns.org)
- **Frontend (New):** https://seplitza.github.io/rejuvena/
- **Admin Panel:** https://api-rejuvena.duckdns.org/admin/

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–∞ –º–æ–º–µ–Ω—Ç –±—ç–∫–∞–ø–∞

### –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ–∏—á–∏:

#### –ú–∞—Ä–∞—Ñ–æ–Ω—ã:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
- ‚úÖ –î–Ω–∏ –º–∞—Ä–∞—Ñ–æ–Ω–∞ —Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –¥–Ω—è–º
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –º–∞—Ä–∞—Ñ–æ–Ω–∞ (–ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞ –¥–æ —Å—Ç–∞—Ä—Ç–∞
- ‚úÖ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –ê–ª—å—Ñ–∞-–±–∞–Ω–∫
- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Resend) - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

#### TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä:
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (–∂–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –∑–∞–≥–æ–ª–æ–≤–∫–∏ H1/H2/H3)
- ‚úÖ –°–ø–∏—Å–∫–∏ (–º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- ‚úÖ –°—Å—ã–ª–∫–∏ (–≤ —Ç–æ–º —á–∏—Å–ª–µ —è–∫–æ—Ä—è –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—á–µ—Ä–µ–∑ API /api/media/upload)
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ URL
- ‚úÖ **VIDEO EMBED** (YouTube, Vimeo, Rutube, VK, OK.ru) - –∫–Ω–æ–ø–∫–∞ "üé• –í–∏–¥–µ–æ"
- ‚úÖ Markdown shortcuts (**bold**, *italic*, ## heading)
- ‚úÖ HTML —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä—è–º–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

#### –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
- ‚úÖ –ö–∞—Ä—É—Å–µ–ª—å –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤ —Å drag-and-drop
- ‚úÖ –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–≥–∞–ª–æ—á–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è)
- ‚úÖ –ü—Ä–µ–º–∏—É–º-–∫–æ–Ω—Ç–µ–Ω—Ç (–¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Å –ø–æ–¥–ø–∏—Å–∫–æ–π)

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–µ–º–∏—É–º:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥ —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω
- ‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–µ–º–∏—É–º-–¥–æ—Å—Ç—É–ø–∞ (–ê–ª—å—Ñ–∞-–±–∞–Ω–∫)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–Ω–µ–π –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–µ–º–∏—É–º
- ‚úÖ –§–æ—Ç–æ-–¥–Ω–µ–≤–Ω–∏–∫ (30 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ + 30 –¥–Ω–µ–π –∑–∞ –æ–ø–ª–∞—Ç—É)

#### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∞—Ñ–æ–Ω–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏/–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤/–ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –ú–µ–¥–∏–∞–±–∏–±–ª–∏–æ—Ç–µ–∫–∞

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –†–µ—à–µ–Ω–Ω—ã–µ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏:
- ‚úÖ –ì–∞–ª–æ—á–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏—Å—á–µ–∑–∞–ª–∏ –º–µ–∂–¥—É –¥–Ω—è–º–∏ - **–ò–°–ü–†–ê–í–õ–ï–ù–û** (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Å dayNumber)
- ‚úÖ –ò–∫–æ–Ω–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å - **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–∏—Å–ø–æ–ª—å–∑—É–µ–º emoji string)
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–µ–ª–∞ –Ω–∞ /start - **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–ª–æ–≥–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞)
- ‚úÖ –ú–µ–ª–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ - **–ò–°–ü–†–ê–í–õ–ï–ù–û** (—è–≤–Ω—ã–µ CSS —Å—Ç–∏–ª–∏)

### –û—Å—Ç–∞—é—â–∏–µ—Å—è (–º–∏–Ω–æ—Ä–Ω—ã–µ):
- ‚ö†Ô∏è GitHub Pages CDN cache - –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –∑–∞–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –Ω–∞ 5-15 –º–∏–Ω—É—Ç
- ‚ö†Ô∏è MongoDB –∏–Ω–¥–µ–∫—Å –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö - –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å `npm run fix-index` –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üìù –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ë—ç–∫–∞–ø MongoDB (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω):
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
ssh root@37.252.20.170
mongodump --db=rejuvena --out=/root/mongo-backups/backup-2026-02-14-video-support

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
mongorestore --db=rejuvena /root/mongo-backups/backup-2026-02-14-video-support/rejuvena
```

### –í–∞–∂–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `exercises` - —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- `marathons` - –º–∞—Ä–∞—Ñ–æ–Ω—ã
- `marathondays` - –¥–Ω–∏ –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤
- `marathonexerciseprogresses` - –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º (–í–ê–ñ–ù–û: –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Å dayNumber)
- `marathonenrollments` - –∑–∞–ø–∏—Å–∏ –Ω–∞ –º–∞—Ä–∞—Ñ–æ–Ω—ã
- `payments` - –ø–ª–∞—Ç–µ–∂–∏
- `tags` - —Ç–µ–≥–∏/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Backend (–ª–æ–∫–∞–ª—å–Ω–æ):
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/Backend-rejuvena

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev  # http://localhost:9527

# –°–±–æ—Ä–∫–∞
npm run build

# –°–±–æ—Ä–∫–∞ –∞–¥–º–∏–Ω–∫–∏
cd admin-panel && npm run build && cd ..

# –ú–∏–≥—Ä–∞—Ü–∏–∏
npm run fix-index  # –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
npm run seed  # –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞ (seplitza@gmail.com / 1234back)
```

### Frontend (–ª–æ–∫–∞–ª—å–Ω–æ):
```bash
cd /Users/alexeipinaev/Documents/Rejuvena/web

# Dev —Å–µ—Ä–≤–µ—Ä
npm run dev  # http://localhost:3000
# –∏–ª–∏ —á–µ—Ä–µ–∑ PM2
pm2 start npm --name "rejuvena-web-dev" -- run dev

# –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π
npm run build
npx gh-pages -d out -m "Deploy: description"
```

### Production:
```bash
# Backend –ª–æ–≥–∏
ssh root@37.252.20.170 "pm2 logs rejuvena-backend --lines 50"

# –†–µ—Å—Ç–∞—Ä—Ç backend
ssh root@37.252.20.170 "pm2 restart rejuvena-backend"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
ssh root@37.252.20.170 "pm2 list"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ MongoDB
ssh root@37.252.20.170 "mongosh mongodb://localhost:27017/rejuvena"
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### Backend:
1. ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞: https://api-rejuvena.duckdns.org/admin/
2. ‚úÖ –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç: seplitza@gmail.com / 1234back
3. ‚úÖ TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
4. ‚úÖ –ö–Ω–æ–ø–∫–∞ "üé• –í–∏–¥–µ–æ" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
5. ‚úÖ –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å YouTube —Å—Å—ã–ª–∫—É –∏ –æ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ iframe
6. ‚úÖ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç:
   - GET /api/marathons/user/my-enrollments
   - GET /api/marathons/:id/day/:dayNumber
   - POST /api/marathons/:id/day/:dayNumber/exercise/:exerciseId/toggle

### Frontend:
1. ‚úÖ –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è: https://seplitza.github.io/rejuvena/
2. ‚úÖ –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ –ë–∞–Ω–Ω–µ—Ä—ã –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
4. ‚úÖ –ö–ª–∏–∫ –Ω–∞ –±–∞–Ω–Ω–µ—Ä –≤–µ–¥–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å (–ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –º–∞—Ä–∞—Ñ–æ–Ω–∞)
5. ‚úÖ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –¥–Ω—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫—Ä—É–ø–Ω–æ (H1 ~30px)
6. ‚úÖ –í–∏–¥–µ–æ –∏–∑ TipTap —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ iframe
7. ‚úÖ –ì–∞–ª–æ—á–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –¥–Ω—è–º–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** GitHub Copilot AI  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞:** 14 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.

**–°–µ—Ä–≤–µ—Ä—ã:**
- VPS IP: 37.252.20.170
- Domain: api-rejuvena.duckdns.org
- SSH: root@37.252.20.170

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
- Backend: https://github.com/seplitza/backend-rejuvena
- Frontend: https://github.com/seplitza/rejuvena

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

### Backend (.env):
```bash
PORT=9527
MONGODB_URI=mongodb://localhost:27017/rejuvena
JWT_SECRET=<your-secret-key>

# Alfabank
ALFABANK_USERNAME=<username>
ALFABANK_PASSWORD=<password>
ALFABANK_RETURN_URL=https://seplitza.github.io/rejuvena/payment-result

# Resend (Email)
RESEND_API_KEY=<your-resend-api-key>
RESEND_FROM_EMAIL=noreply@mail.seplitza.ru

# CORS
CORS_ORIGIN=https://seplitza.github.io,http://localhost:3000
```

### Frontend (–≤ –∫–æ–¥–µ):
```typescript
// web/src/config/api.ts
export const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://37.252.20.170:9527';
```

---

## ‚ú® Changelog (–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏)

### –î–æ–±–∞–≤–ª–µ–Ω–æ:
- üé• –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –≤ TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (YouTube, Vimeo, Rutube, VK, OK.ru)
- üß≠ –£–º–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–∞—Ä–∞—Ñ–æ–Ω–∞–º (–Ω–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å)
- üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ lastAccessedDay –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –¥–Ω—è
- üé® –Ø–≤–Ω—ã–µ CSS —Å—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (H1/H2/H3)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- üêõ –ì–∞–ª–æ—á–∫–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π —Ç–µ–ø–µ—Ä—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
- üêõ –ò–∫–æ–Ω–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (emoji)
- üêõ –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–µ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /start

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å MongoDB: `{ userId, marathonId, dayNumber, exerciseId }`
- –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç: `npm run fix-index`
- –û—Ç–∫–∞—Ç–∞ –∞–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ (–≤—ã–∑—ã–≤–∞–ª–∞ –∫—Ä–∞—à–∏)

---

**üîÑ –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é"**

**üìå –°–ª–µ–¥—É—é—â–∞—è —Ç–æ—á–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω–∞ –ø–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–∏—Ö major –∏–∑–º–µ–Ω–µ–Ω–∏–π**
